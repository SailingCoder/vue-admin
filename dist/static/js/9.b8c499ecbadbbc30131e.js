webpackJsonp([9,58],{"+DKq":function(e,t,a){var l=a("JBcm");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("4c09a502",l,!0)},Aryi:function(e,t,a){var l=a("Bjnl");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("0ce4df12",l,!0)},Bjnl:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"p[data-v-e1ac748c]{margin:0 0 7px;font-size:15px;color:#000}.el-radio[data-v-e1ac748c]{display:block;line-height:25px}.el-radio+.el-radio[data-v-e1ac748c]{margin-left:0}",""])},JBcm:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-dialog--center{text-align:center;border-radius:5px}.el-dialog--center .el-dialog__body{padding:15px 30px 20px}",""])},SoE9:function(e,t,a){"use strict";function l(e){a("Aryi"),a("+DKq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("viA7"),i=a("cAgV"),s=a("0xDb"),n=a("rjX8"),o=[{key:"0",display_name:"全部"},{key:"1",display_name:"平价订单"},{key:"2",display_name:"换购订单"},{key:"3",display_name:"置换订单"},{key:"4",display_name:"任务订单"}],d=o.reduce(function(e,t){return e[t.key]=t.display_name,e},{}),c={name:"consumptionTask",components:{taskDetail:n.default},directives:{waves:i.a},data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},centerDialogVisible:!1,table:[{idnum:1,orderid:"DD123456789",ordertype:"平价订单",ordername:"黑龙江大米 50Kg*1",userphone:"QG00001",amount:"￥120.00",payway:"否",status:"待付款",shoppingname:"圣煜麒麟西三旗店",ordertime:"2017-12-08 11:28:01"},{idnum:2,orderid:"DD123456791",ordertype:"积分兑换",ordername:"盘锦大米 50KG*1",userphone:"QG00002",amount:"￥120.00",payway:"否",status:"待付款",shoppingname:"圣煜麒麟西三旗店",ordertime:"2017-12-07 11:28:01"},{idnum:3,orderid:"DD123456792",ordertype:"易物置换",ordername:"香香香米 60KG*1",userphone:"QG00003",amount:"积分100,储值100",payway:"否",status:"待付款",shoppingname:"圣煜麒麟西三旗店",ordertime:"2017-12-06 11:28:01"},{idnum:4,orderid:"DD123456793",ordertype:"任务订单",ordername:"小香香米 60KG*1",userphone:"QG00004",amount:"积分100,储值100",payway:"否",status:"待付款",shoppingname:"圣煜麒麟西三旗店",ordertime:"2017-12-05 11:28:01"}],tableKey:0,list:null,total:null,listLoading:!0,listQuery:{value6:"",page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},importanceOptions:["订单号","会员账号"],calendarTypeOptions:o,statusOptions:["published","draft","deleted"],temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"创建"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},editData:"",editState:!1,adjustData:"",adjustState:!1,detailData:"",detailState:!1}},filters:{statusFilter:function(e){return{published:"success",draft:"info",deleted:"danger"}[e]},typeFilter:function(e){return d[e]}},created:function(){this.getList()},methods:{memberlAccount_details:function(e){this.detailData=e,this.detailState=!0},hideDetailState:function(e){this.detailState=!1},getList:function(){var e=this;this.listLoading=!0,Object(r.a)(this.listQuery).then(function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleFetchPv:function(e){var t=this;Object(r.b)(e).then(function(e){t.pvData=e.data.pvData,t.dialogPvVisible=!0})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(s.c)(t[e]):t[e]})})}}},u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.detailState?e.detailState?a("div",[a("taskDetail",{attrs:{data:e.detailData},on:{detail:e.hideDetailState}})],1):e._e():a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.listQuery.value6,callback:function(t){e.$set(e.listQuery,"value6",t)},expression:"listQuery.value6"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"订单类型"},model:{value:e.listQuery.type,callback:function(t){e.$set(e.listQuery,"type",t)},expression:"listQuery.type"}},e._l(e.calendarTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"订单号："},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"购买门店："},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"供应商："},model:{value:e.listQuery.title,callback:function(t){e.$set(e.listQuery,"title",t)},expression:"listQuery.title"}}),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v("查询")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!0}}},[e._v("生成统计表")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.table,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.idnum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"订单编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orderid))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"订单类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ordertype))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"90",label:"商品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userphone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"120",label:"商品名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ordername.split("*")[0]))]),a("br"),e._v(" "),a("span",[e._v(e._s("*"+t.row.ordername.split("*")[1]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"商品单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.amount.split(",")[0]))]),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.amount.split(",")[1]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"70",label:"置换款"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.payway))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["已退单"===t.row.status||"已取消"===t.row.status?a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.status))]):a("span",[e._v(e._s(t.row.status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"140",label:"购买门店"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.shoppingname))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"140",label:"供应商"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("圣煜麒麟1号供应商")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"95",label:"购买时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ordertime.split(" ")[0]))]),a("br"),e._v(" "),a("span",[e._v(e._s(t.row.ordertime.split(" ")[1]))])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-size":e.listQuery.limit,layout:"total, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:"生成销售统计表",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("p",[e._v("请选择一种统计方式：")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-radio-group",{model:{value:e.form.resource,callback:function(t){e.$set(e.form,"resource",t)},expression:"form.resource"}},[a("el-radio",{attrs:{label:"按商品统计"}}),e._v(" "),a("el-radio",{attrs:{label:"按供应商统计"}}),e._v(" "),a("el-radio",{attrs:{label:"按销售门店统计"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},m=[],p={render:u,staticRenderFns:m},f=p,v=a("VU/8"),b=l,_=v(c,f,!1,b,"data-v-e1ac748c",null);t.default=_.exports},mEjm:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".height_add_b[data-v-7ec97ef8]{margin:10px 0}.label_inital .el-form-item__label[data-v-7ec97ef8]{width:100px!important}.label_inital .el-form-item__content[data-v-7ec97ef8]{margin-left:100px!important}.addAndUpdate_content .el-input[data-v-7ec97ef8]{width:100%;max-width:250px;float:left}",""])},q5M4:function(e,t,a){var l=a("mEjm");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("2f245ebc",l,!0)},rjX8:function(e,t,a){"use strict";function l(e){a("q5M4")}Object.defineProperty(t,"__esModule",{value:!0});var r={props:["data"],data:function(){return{ruleForm:{taskid:"",userphone:"",starttime:"",zhorderid:"",status:"",taskamount:"",iffinish:"",rewardamount:""},tableData:[{idnum:1,orderid:"DD123456111",ordertype:"任务订单",comsumescore:"积分1000,储值1000",cashscore:"1000",leftscore:"0",leftcashscore:"0",date:"2017-12-12 11:28:01"},{idnum:2,orderid:"DD123456112",ordertype:"任务订单",comsumescore:"积分1000,储值1000",cashscore:"2000",leftscore:"1000",leftcashscore:"1000",date:"2017-11-06 11:28:01"},{idnum:3,orderid:"DD123456113",ordertype:"任务订单",comsumescore:"积分1000,储值1000",cashscore:"3000",leftscore:"3000",leftcashscore:"3000",date:"2017-10-25 11:28:01"},{idnum:4,orderid:"DD123456114",ordertype:"任务订单",comsumescore:"积分1000,储值1000",cashscore:"1000",leftscore:"6000",leftcashscore:"6000",date:"2017-10-11 11:28:01"},{idnum:5,orderid:"DD123456115",ordertype:"任务订单",comsumescore:"积分1000,储值1000",cashscore:"3000",leftscore:"7000",leftcashscore:"7000",date:"2017-10-07 11:28:01"}]}},created:function(){this.ruleForm={taskid:this.data.taskid,userphone:this.data.userphone,starttime:this.data.starttime,zhorderid:this.data.zhorderid,status:this.data.status,taskamount:this.data.taskamount,iffinish:this.data.iffinish,rewardamount:this.data.rewardamount}},methods:{indexMethod:function(e){return e+1},backPrevPage:function(){this.$emit("detail",!1)}}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title-show-info"},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:function(t){e.backPrevPage()}}}),e._v(" "),a("span",[e._v("消费任务 - 任务详情")])],1),e._v(" "),a("div",{staticClass:"addAndUpdate_container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("div",{staticClass:"addAndUpdate_title height_add_b"},[a("span",[e._v("任务信息")])]),e._v(" "),a("div",{staticClass:"addAndUpdate_content"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"任务单号：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.taskid,callback:function(t){e.$set(e.ruleForm,"taskid",t)},expression:"ruleForm.taskid"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"会员账号：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.userphone,callback:function(t){e.$set(e.ruleForm,"userphone",t)},expression:"ruleForm.userphone"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"创建时间：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.starttime,callback:function(t){e.$set(e.ruleForm,"starttime",t)},expression:"ruleForm.starttime"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"关联置换订单：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.zhorderid,callback:function(t){e.$set(e.ruleForm,"zhorderid",t)},expression:"ruleForm.zhorderid"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"任务状态：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"任务金额：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.taskamount,callback:function(t){e.$set(e.ruleForm,"taskamount",t)},expression:"ruleForm.taskamount"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"未完成金额：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.iffinish,callback:function(t){e.$set(e.ruleForm,"iffinish",t)},expression:"ruleForm.iffinish"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"任务奖励：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.rewardamount,callback:function(t){e.$set(e.ruleForm,"rewardamount",t)},expression:"ruleForm.rewardamount"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"申领方式：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"申领时间：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:"奖励时间：",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"addAndUpdate_title height_add_b"},[a("span",[e._v("任务订单")])]),e._v(" "),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderid",align:"center",label:"任务订单"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ordertype",align:"center",label:"订单类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"comsumescore",align:"center",label:"订单金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cashscore",align:"center",label:"未完成积分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cashscore",align:"center",label:"未完成储值"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"创建日期"}})],1)],1)])],1)])},s=[],n={render:i,staticRenderFns:s},o=n,d=a("VU/8"),c=l,u=d(r,o,!1,c,"data-v-7ec97ef8",null);t.default=u.exports}});