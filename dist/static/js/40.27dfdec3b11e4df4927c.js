webpackJsonp([40,75],{"9OVk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("viA7"),i=a("cAgV"),n=a("0xDb"),s=a("PTzy"),r=a("hDQj"),d=a.n(r),o=[{key:"0",display_name:"全部"},{key:"1",display_name:"平价商品"},{key:"2",display_name:"积分换购"},{key:"3",display_name:"易物置换"},{key:"4",display_name:"任务商品"}],c=o.reduce(function(t,e){return t[e.key]=e.display_name,t},{}),u={name:"commoditylist",components:{cl_detailAndEdit:s.default},directives:{waves:i.a},data:function(){return{table:[{idnum:1,orderName:"黑龙江大米 50kg",orderid:"QG00008",orderNum:"123456789",ordertype:"平价订单",amount:"￥120.00",payway:"否",status:"在售"},{idnum:2,orderName:"盘锦大米 50kg",orderid:"QG00007",orderNum:"123456788",ordertype:"平价订单",amount:"积分120,储值120",payway:"否",status:"在售"}],a4:d.a,tableKey:0,list:null,total:null,listLoading:!0,listQuery:{value6:"",page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},importanceOptions:["订单号","会员账号","关联订单"],calendarTypeOptions:o,statusOptions:["published","draft","deleted"],temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"创建"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},editData:"",editState:!1,adjustData:"",adjustState:!1,cl_detailAndEditData:"",cl_detailAndEditState:!1}},filters:{statusFilter:function(t){return{published:"success",draft:"info",deleted:"danger"}[t]},typeFilter:function(t){return c[t]}},created:function(){this.getList()},methods:{show_cl_detailAndEdit:function(t,e){e.cl_status=t,this.cl_detailAndEditData=e,this.cl_detailAndEditState=!0},hide_cl_detailAndEdit:function(t){this.cl_detailAndEditState=!1},getList:function(){var t=this;this.listLoading=!0,Object(l.a)(this.listQuery).then(function(e){t.list=e.data.items,t.total=e.data.total,t.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},handleFetchPv:function(t){var e=this;Object(l.b)(t).then(function(t){e.pvData=t.data.pvData,e.dialogPvVisible=!0})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"timestamp"===t?Object(n.c)(e[t]):e[t]})})},frozenAccount:function(t){var e=this,a="开售";a="在售"===t.status?"停售":"开售",this.$confirm("此操作将"+a+t.orderName+", 是否继续?",a,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){"停售"===t.status?t.status="在售":t.status="停售",e.$message({type:"success",message:a+"成功!"})}).catch(function(){})}}},p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.cl_detailAndEditState?t.cl_detailAndEditState?a("div",[a("cl_detailAndEdit",{attrs:{data:t.cl_detailAndEditData},on:{cl_detailAndEdit:t.hide_cl_detailAndEdit}})],1):t._e():a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"商品类型"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},t._l(t.calendarTypeOptions,function(t){return a("el-option",{key:t.key,attrs:{label:t.display_name,value:t.key}})})),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"商品名称："},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"商品条码："},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"商品编码："},model:{value:t.listQuery.title,callback:function(e){t.$set(t.listQuery,"title",e)},expression:"listQuery.title"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.table,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.idnum))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:t.a4,alt:"",width:"120",height:"60"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"商品名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"商品编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderid))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"商品条码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderNum))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"110",label:"销售属性"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("所属分类：大米")]),a("br"),t._v(" "),a("span",[t._v("规格大小：50KG")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"销售类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ordertype))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"销售单价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.status.split(",")[0]))]),a("br"),t._v(" "),a("span",[t._v(t._s(e.row.status.split(",")[1]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"60",label:"置换款"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.payway))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"100",label:"在售状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.status))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","min-width":"120","class-name":"small-padding"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.show_cl_detailAndEdit("detail",e.row)}}},[t._v("详情")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.show_cl_detailAndEdit("edit",e.row)}}},[t._v("编辑")]),t._v(" "),"在售"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.frozenAccount(e.row)}}},[t._v("停售")]):t._e(),t._v(" "),"停售"==e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.frozenAccount(e.row)}}},[t._v("开售")]):t._e()]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":t.listQuery.page,"page-size":t.listQuery.limit,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)],1)},m=[],_={render:p,staticRenderFns:m},v=_,y=a("VU/8"),f=y(u,v,!1,null,null,null);e.default=f.exports},PTzy:function(t,e,a){"use strict";function l(t){a("UAlh")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("hDQj"),n=a.n(i),s=[{key:"1",display_name:"平价商品"},{key:"2",display_name:"积分换购"},{key:"3",display_name:"易物置换"},{key:"4",display_name:"任务商品"}],r={props:["data"],data:function(){return{a4:n.a,calendarTypeOptions:s,orderInfo:[{key:"orderName",name:"商品名称",val:""},{key:"orderid",name:"商品编号",val:""},{key:"ordertype",name:"商品分类",val:""},{key:"gy",name:"供货商",val:""},{key:"orderAmount",name:"在售状态",val:""},{key:"payMethod",name:"商品条码",val:""},{key:"memberAccount",name:"商品规格",val:""},{key:"consumerStore",name:"添加时间",val:""}],saleInfo:[{key:"saleStatus",name:"销售类型",val:"平价商品"},{key:"orderid",name:"置换款",val:""},{key:"ordertype",name:"返还储值",val:""},{key:"gy",name:"销售单价",val:""},{key:"orderAmount",name:"积分奖励",val:""},{key:"payMethod",name:"任务奖励",val:""}],ruleForm:{taskid:"",userphone:"",starttime:"",zhorderid:"",status:"",taskamount:"",iffinish:"",rewardamount:""}}},created:function(){},methods:{indexMethod:function(t){return t+1},backPrevPage:function(){this.$emit("cl_detailAndEdit",!1)}}},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-show-info"},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:function(e){t.backPrevPage()}}}),t._v(" "),"detail"===t.data.cl_status?a("span",[t._v("商品详情")]):t._e(),t._v(" "),"edit"===t.data.cl_status?a("span",[t._v("商品编辑")]):t._e()],1),t._v(" "),a("div",{staticClass:"addAndUpdate_container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"label-width":"110px"}},[a("div",{staticClass:"addAndUpdate_title height_add_b"},[a("span",[t._v("基本信息")])]),t._v(" "),a("div",{staticClass:"addAndUpdate_content"},[a("el-row",{attrs:{gutter:10}},t._l(t.orderInfo,function(e){return a("div",[a("el-col",{staticStyle:{"max-width":"520px"},attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("el-form-item",{staticClass:"label_inital",attrs:{label:e.name+"："}},[a("el-input",{attrs:{disabled:"detail"===t.data.cl_status},model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"item.val"}})],1)],1)],1)}))],1),t._v(" "),a("div",{staticClass:"addAndUpdate_title height_add_b"},[a("span",[t._v("商品销售")])]),t._v(" "),a("div",{staticClass:"addAndUpdate_content"},[a("el-row",{attrs:{gutter:10}},t._l(t.saleInfo,function(e){return a("div",[a("el-col",{staticStyle:{"max-width":"520px"},attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},["saleStatus"==e.key?a("div",[a("el-form-item",{staticClass:"label_inital",attrs:{label:e.name+"："}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"商品类型",disabled:"detail"===t.data.cl_status},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"sale.value"}},t._l(t.calendarTypeOptions,function(t){return a("el-option",{key:t.key,attrs:{label:t.display_name,value:t.key}})}))],1)],1):a("div",[a("el-form-item",{staticClass:"label_inital",attrs:{label:e.name+"："}},[a("el-input",{attrs:{disabled:"detail"===t.data.cl_status},model:{value:e.val,callback:function(a){t.$set(e,"val",a)},expression:"sale.val"}})],1)],1)])],1)}))],1),t._v(" "),a("div",{staticClass:"addAndUpdate_title height_add_b"},[a("span",[t._v("商品图片")])]),t._v(" "),a("div",{staticClass:"addAndUpdate_content",staticStyle:{"padding-left":"70px"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[a("img",{attrs:{src:t.a4,alt:"",width:"240"}})])],1)],1),t._v(" "),"edit"===t.data.cl_status?a("div",{staticClass:"addAndUpdate_title"},[a("span",[t._v("执行操作")])]):t._e(),t._v(" "),"edit"===t.data.cl_status?a("div",{staticClass:"addAndUpdate_footer",staticStyle:{"padding-left":"70px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("保存修改")])],1):t._e()])],1)])},o=[],c={render:d,staticRenderFns:o},u=c,p=a("VU/8"),m=l,_=p(r,u,!1,m,"data-v-67dc9134",null);e.default=_.exports},R2N5:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".height_add_b[data-v-67dc9134]{margin:10px 0}.label_inital .el-form-item__label[data-v-67dc9134]{width:100px!important}.label_inital .el-form-item__content[data-v-67dc9134]{margin-left:100px!important}.addAndUpdate_content .el-input[data-v-67dc9134]{width:100%;max-width:250px;float:left}.el-select[data-v-67dc9134]{display:inherit}",""])},UAlh:function(t,e,a){var l=a("R2N5");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a("rjj0")("343263a3",l,!0)}});