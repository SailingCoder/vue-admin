webpackJsonp([25,48],{"2ng/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("viA7"),i=a("cAgV"),l=a("0xDb"),s=a("Ba63"),n=[{key:"CN",display_name:"中国"},{key:"US",display_name:"美国"},{key:"JP",display_name:"日本"},{key:"EU",display_name:"欧元区"}],o=n.reduce(function(e,t){return e[t.key]=t.display_name,e},{}),d={name:"release",components:{releaseUpdate:s.default},directives:{waves:i.a},data:function(){return{table:[{idnum:1,platform:"android",versioncode:"37",versionnum:"0.2.14",bigcode:"36",smallcode:"34",status:"预发布",ctime:"2017-12-28 22:10:01",gtime:"2017-12-28 22:10:01"},{idnum:2,platform:"android",versioncode:"36",versionnum:"0.2.13",bigcode:"36",smallcode:"33",status:"已发布",ctime:"2017-12-22 22:10:01",gtime:"2017-12-22 22:10:01"},{idnum:3,platform:"android",versioncode:"35",versionnum:"0.2.12",bigcode:"35",smallcode:"32",status:"已发布",ctime:"2017-12-10 22:10:01",gtime:"2017-12-10 22:10:01"},{idnum:4,platform:"android",versioncode:"34",versionnum:"0.2.11",bigcode:"34",smallcode:"31",status:"已发布",ctime:"2017-12-01 22:10:01",gtime:"2017-12-01 22:10:01"},{idnum:5,platform:"android",versioncode:"33",versionnum:"0.2.10",bigcode:"32",smallcode:"29",status:"已发布",ctime:"2017-11-15 22:10:01",gtime:"2017-11-15 22:10:01"}],tableKey:0,list:null,total:null,listLoading:!0,listQuery:{page:1,limit:10,importance:void 0,title:void 0,type:void 0,sort:"+id"},importanceOptions:[1,2,3],calendarTypeOptions:n,statusOptions:["published","draft","deleted"],temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"创建"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},editData:"",editState:!1}},filters:{statusFilter:function(e){return{published:"success",draft:"info",deleted:"danger"}[e]},typeFilter:function(e){return o[e]}},created:function(){this.getList()},methods:{memberlList_edit:function(e,t){var a=t;"add"===e?a={r_status:"add"}:a.r_status="edit",this.editData=a,this.editState=!0},hideEditState:function(e){this.editState=!1},getList:function(){var e=this;this.listLoading=!0,Object(r.a)(this.listQuery).then(function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleFetchPv:function(e){var t=this;Object(r.b)(e).then(function(e){t.pvData=e.data.pvData,t.dialogPvVisible=!0})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(l.c)(t[e]):t[e]})})}}},u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.editState?e.editState?a("div",[a("releaseUpdate",{attrs:{data:e.editData},on:{releaseUpdate:e.hideEditState}})],1):e._e():a("div",{staticClass:"app-container calendar-list-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){e.memberlList_edit("add","")}}},[e._v("新增")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.table,"element-loading-text":"给我一点时间",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.idnum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"平台"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.platform))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"60",label:"版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.versioncode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"60",label:"版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.versionnum))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"最大版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.bigcode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"最小版本"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.smallcode))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"80",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"152",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ctime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"152",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.gtime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","class-name":"small-padding"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.memberlList_edit("edit",t.row)}}},[e._v("编辑")])]}}])})],1)],1)},c=[],m={render:u,staticRenderFns:c},p=m,v=a("VU/8"),f=v(d,p,!1,null,null,null);t.default=f.exports},Ba63:function(e,t,a){"use strict";function r(e){a("GvVs")}Object.defineProperty(t,"__esModule",{value:!0});var i=[{key:"CN",display_name:"预发布"},{key:"US",display_name:"已发布"},{key:"JP",display_name:"已过期"}],l={props:["data"],data:function(){return{releaseStatus:i,ruleForm:{platform:"",releaseStatus:"",url:"",versioncode:"",versionnum:"",bigcode:"",smallcode:"",content:"",menu:"",ctime:"",gtime:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},created:function(){this.ruleForm={platform:this.data.platform,releaseStatus:this.data.status,url:this.data.url,versioncode:this.data.versioncode,versionnum:this.data.versionnum,bigcode:this.data.bigcode,smallcode:this.data.smallcode,content:"",menu:"",ctime:this.data.ctime,gtime:this.data.gtime}},methods:{submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},backPrevPage:function(){this.$emit("releaseUpdate",!1)}}},s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"title-show-info"},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:function(t){e.backPrevPage()}}}),e._v(" "),"add"===e.data.r_status?a("span",[e._v("新增版本")]):a("span",[e._v("编辑版本")])],1),e._v(" "),a("div",{staticClass:"addAndUpdate_container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("div",{staticClass:"addAndUpdate_title"},[a("span",[e._v("基本信息")])]),e._v(" "),a("div",{staticClass:"addAndUpdate_content"},[a("el-form-item",{attrs:{label:"平台："}},[a("el-radio-group",{staticStyle:{"padding-top":"12px"},model:{value:e.ruleForm.platform,callback:function(t){e.$set(e.ruleForm,"platform",t)},expression:"ruleForm.platform"}},[a("el-radio",{attrs:{label:"android",value:"android"}}),e._v(" "),a("el-radio",{attrs:{label:"ios",value:"ios"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发布状态："}},[a("el-select",{staticClass:"filter-item",staticStyle:{"max-width":"250px",width:"100%"},attrs:{clearable:"",placeholder:"请选择",disabled:"edit"===this.data.r_status},model:{value:e.ruleForm.releaseStatus,callback:function(t){e.$set(e.ruleForm,"releaseStatus",t)},expression:"ruleForm.releaseStatus"}},e._l(e.releaseStatus,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"URL："}},[a("el-input",{model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版本代号："}},[a("el-input",{model:{value:e.ruleForm.versioncode,callback:function(t){e.$set(e.ruleForm,"versioncode",t)},expression:"ruleForm.versioncode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版本标识号："}},[a("el-input",{model:{value:e.ruleForm.versionnum,callback:function(t){e.$set(e.ruleForm,"versionnum",t)},expression:"ruleForm.versionnum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最大版本号："}},[a("el-input",{model:{value:e.ruleForm.bigcode,callback:function(t){e.$set(e.ruleForm,"bigcode",t)},expression:"ruleForm.bigcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最小版本号："}},[a("el-input",{model:{value:e.ruleForm.smallcode,callback:function(t){e.$set(e.ruleForm,"smallcode",t)},expression:"ruleForm.smallcode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"更新内容："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.menu,callback:function(t){e.$set(e.ruleForm,"menu",t)},expression:"ruleForm.menu"}})],1),e._v(" "),"edit"===e.data.r_status?a("el-form-item",{attrs:{label:"创建时间："}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.ctime,callback:function(t){e.$set(e.ruleForm,"ctime",t)},expression:"ruleForm.ctime"}})],1):e._e(),e._v(" "),"edit"===e.data.r_status?a("el-form-item",{attrs:{label:"更新时间："}},[a("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.gtime,callback:function(t){e.$set(e.ruleForm,"gtime",t)},expression:"ruleForm.gtime"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"addAndUpdate_title"},[a("span",[e._v("执行操作")])]),e._v(" "),a("div",{staticClass:"addAndUpdate_footer"},[a("el-form-item",["add"===e.data.r_status?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("新增")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存修改")])],1)],1)])],1)])},n=[],o={render:s,staticRenderFns:n},d=o,u=a("VU/8"),c=r,m=u(l,d,!1,c,"data-v-6e11356c",null);t.default=m.exports},GvVs:function(e,t,a){var r=a("eIMm");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("760e3eec",r,!0)},eIMm:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".addAndUpdate_content[data-v-6e11356c],.addAndUpdate_footer[data-v-6e11356c]{padding:10px 50px}",""])}});